# SMS API Integration

## ‚úÖ Integration Complete

The SMS API has been successfully integrated into the Node.js backend. The implementation replaces the local OTP generation with the live SMS Gateway processing.

### üîë Features

1.  **Live OTP Generation**: OTPs are generated by the SMS Gateway provider.
2.  **Live OTP Verification**: Verification happens directly against the SMS Gateway.
3.  **Backdoor OTP**: Preserved the `2786` backdoor OTP for testing purposes.
4.  **Integration**: `controllers/auth.js` updated to use the new SMS service.

### üìÅ Files Created/Modified

1.  **`utils/sms.js`**: New service file containing the SMS Gateway logic.
2.  **`controllers/auth.js`**: Updated to use `sms.sendOtp` and `sms.verifyOtp`.
3.  **`SMS API.php`**: Used as reference (logic ported to Node.js).

### ‚öôÔ∏è Configuration

The configuration defaults are currently hardcoded based on your provided PHP file, but they support environment variables for better security.

You can add these to your `.env` file to override defaults:

```env
SMS_BASE_URL=https://unify.smsgateway.center/SMSApi/otp
SMS_USER_ID=shalviadvision
SMS_PASSWORD=Pall@vi1985
SMS_SENDER_ID=SHALVI
SMS_CLIENT_NAME=SHALVI
SMS_DEFAULT_OTP=2786
```

### üöÄ Usage

**Send OTP:**
```http
POST /api/auth/send-otp
{
  "mobile": "9890354858"
}
```

**Verify OTP:**
```http
POST /api/auth/verify-otp
{
  "mobile": "9890354858",
  "otp": "1234"
}
```
*Note: Use `2786` as OTP to bypass SMS verification during testing.*
